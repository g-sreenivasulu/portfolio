---
import { Picture } from "@astrojs/image/components";

interface Props {
  title: string;
  description: string;
  date: string;
  images: string[];
}

const { title, description, date, images } = Astro.props;
---

<div
  id="award-gallery"
  class="hidden md:w-4/5 lg:w-3/5 p-2 md:grid grid-cols-2 gap-4 rounded-2xl from-yellow-200 to-pink-300 bg-gradient-to-br">
  {
    images.map((image) => (
      <a
        href={image}
        data-pswp-width="1024"
        data-pswp-height="576"
        target="_blank">
        <Picture
          width={350}
          height={197}
          widths={[350]}
          src={image}
          alt={title}
          aspectRatio="16:9"
          sizes="(max-width: 800px) 100vw, 350px"
          loading="eager"
          format="webp"
          class="object-cover rounded-2xl m-auto hover:scale-[101.5%] transition ease-in-out duration-200"
        />
      </a>
    ))
  }
  <div class="flex flex-col text-center items-center justify-center">
    <p class="text-xl lg:text-3xl">{title}</p>
    <p class="text-sm lg:text-md my-1 lg:my-2">{description}</p>
    <p class="text-sm">{date}</p>
  </div>
</div>

<div
  id="award-gallery"
  class="flex flex-col w-full md:hidden rounded-2xl from-yellow-200 to-pink-300 bg-gradient-to-br">
  <div class="flex gap-x-6 my-2 overflow-x-auto overflow-y-hidden snap-x snap-mandatory scroll-smooth">
    {
      images.map((image) => (
        <a
          class="flex-none w-full snap-center snap-always"
          href={image}
          data-pswp-width="900"
          data-pswp-height="506"
          target="_blank">
          <Picture
            width={600}
            height={338}
            widths={[600]}
            src={image}
            alt={title}
            aspectRatio="16:9"
            sizes="(max-width: 800px) 100vw, 600px"
            loading="eager"
            format="webp"
            class="w-full h-full object-cover p-2 rounded-2xl m-auto"
          />
        </a>
      ))
    }
  </div>
  <div class="flex flex-col text-center p-2">
    <p class="text-xl lg:text-3xl">{title}</p>
    <p class="text-sm lg:text-md my-1 lg:my-2">{description}</p>
    <p class="text-sm">{date}</p>
  </div>
</div>

<script src="../utils/photo-swipe.js"></script>
